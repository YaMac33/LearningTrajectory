<!DOCTYPE html> <html lang="ja"> <head>   <!-- Google tag (fixed) -->   <script async src="https://www.googletagmanager.com/gtag/js?id=G-MQ9ZB4LYWP"></script>    <meta charset="UTF-8" />   <meta name="viewport" content="width=device-width, initial-scale=1.0" />    <!-- GEN: META（生成時に置換） -->   <title>Learning Trajectory | RDSのマルチAZによる可用性向上</title>   <meta name="description" content="RDSのマルチAZ構成による自動フェールオーバーと高可用性の仕組みを図解で解説。試験で問われやすいポイントとリードレプリカとの違いも整理。" />   <meta name="robots" content="index,follow" />    <!-- Optional: OGP（不要なら空でOK） -->   <meta property="og:type" content="article" />   <meta property="og:title" content="RDSのマルチAZによる可用性向上" />   <meta property="og:description" content="RDSのマルチAZ構成による自動フェールオーバーと高可用性の仕組みを図解で解説。試験で問われやすいポイントとリードレプリカとの違いも整理。" />      <!-- Assets (article path: docs/<category>/posts/.../index.html) -->   <link rel="stylesheet" href="../../../assets/styles.css" /> </head>  <body>   <div class="container">      <header class="site-header">       <a href="../../../index.html" class="site-title">Learning Trajectory</a>     </header>      <!-- 固定：前後ナビ（JS制御） -->     <nav class="post-nav">       <a id="prevPost" class="post-nav__link" href="#" style="display:none;">← 前の記事</a>       <a id="nextPost" class="post-nav__link" href="#" style="display:none;">次の記事 →</a>     </nav>      <main>       <article class="article-content">          <header class="article-header">           <!-- GEN: POST META -->           <time class="post-meta" datetime="2026-02-09">             2026.02.09           </time>            <!-- GEN: TITLE -->           <h1 class="article-title">RDSのマルチAZによる可用性向上</h1>            <!-- GEN: TAGS -->           <ul class="post-tags">             <li>#RDS</li>             <li>#マルチAZ</li>             <li>#自動フェールオーバー</li>             <li>#高可用性</li>             <li>#データベース</li>           </ul>         </header>          <!-- GEN: BODY -->         <section>           <p>Amazon RDSでプライマリDBが応答しない状況に備える代表的な高可用性オプションが「マルチAZ」です。自動フェールオーバーを前提に、実務と試験双方で押さえるべき挙動と設計ポイントを整理します。</p>            <h2>問題と解答</h2>           <p><strong>問題：</strong>RDSにおいてプライマリデータベースが応答しない状況で、自動フェールオーバーを実行するための機能を1つ選びなさい。</p>           <p><strong>答え：</strong>マルチAZ</p>           <p><strong>解説：</strong>RDSでマルチAZを有効化すると、異なるアベイラビリティゾーン（AZ）にスタンバイDBが自動作成され、同期レプリケーションで常に最新化されます。障害時はスタンバイへ自動フェールオーバーし、同一のエンドポイント名で接続先が切り替わります。</p>            <blockquote>             <p><strong>1行要約：</strong>RDSでプライマリDBが応答不能になったとき、自動でスタンバイへ切り替える仕組みが「マルチAZ」。</p>           </blockquote>            <h2>マルチAZとは</h2>           <h3>何をしている仕組み？</h3>           <ul>             <li>本番用の<strong>プライマリDB</strong>と、別AZにある<strong>スタンバイDB</strong>を<strong>同期レプリケーション</strong>で常時一致させる。</li>             <li>アプリは<strong>同一のRDSエンドポイント</strong>に接続。障害時はCNAME先がスタンバイへ切替。</li>             <li>スタンバイは通常<strong>読み取り不可</strong>（直接クエリ不可）。用途はフェールオーバー専用。</li>           </ul>            <h2>図でイメージ（ここが要点）</h2>           <pre>AZ-A                         AZ-B ┌────────────────┐      ┌────────────────┐ │    Primary DB      │ ◀─▶ │     Standby DB     │ │  (書込・参照可)     │ 同期  │  (待機・参照不可)   │ └────────────────┘      └────────────────┘            ▲                                   │            │ 障害検知                          │ フェールオーバー            └───────────────────────────────────┘                  (エンドポイントの向き先が自動で切替)</pre>           <pre>クライアント            RDS エンドポイント                 実体 ─────────▶  db.example.xxxxxx.rds.amazonaws.com  ─────▶  Active DB (Primary or Standby)</pre>            <p>アプリ側は再接続リトライを実装すれば、切替後も同じ接続文字列で継続利用できます。</p>            <h2>マルチAZで実現できること</h2>           <ol>             <li><strong>自動フェールオーバー</strong>（試験の答え）             <ul>               <li>プライマリ障害時に人手なしでスタンバイへ自動切替。</li>             </ul>             </li>             <li><strong>高可用性（HA）</strong>             <ul>               <li>AZ障害をまたいだ冗長化によりサービス継続性を向上。</li>             </ul>             </li>             <li><strong>耐久性向上</strong>             <ul>               <li>複数AZに同一データを保持し、単一障害点を排除。</li>             </ul>             </li>           </ol>            <h2>試験で問われやすいポイント</h2>           <h3>マルチAZの要点</h3>           <ul>             <li>目的：<strong>高可用性・障害対策</strong></li>             <li>特徴：<strong>自動フェールオーバー</strong>、<strong>同期レプリケーション</strong>、<strong>スタンバイへは直接アクセス不可</strong></li>           </ul>           <h3>リードレプリカとの違い</h3>           <table>             <thead>               <tr>                 <th>項目</th>                 <th>マルチAZ</th>                 <th>リードレプリカ</th>               </tr>             </thead>             <tbody>               <tr>                 <td>主目的</td>                 <td>可用性・耐障害性</td>                 <td>読み取りスケールアウト</td>               </tr>               <tr>                 <td>フェールオーバー</td>                 <td>自動</td>                 <td>手動（昇格が必要）</td>               </tr>               <tr>                 <td>レプリケーション</td>                 <td>同期</td>                 <td>非同期</td>               </tr>               <tr>                 <td>読み取り可否</td>                 <td>スタンバイは不可</td>                 <td>可（参照専用）</td>               </tr>             </tbody>           </table>           <p><strong>結論：</strong>「フェールオーバー」と書かれていたら<strong>マルチAZ</strong>を選ぶ。</p>            <h2>ひっかけ注意</h2>           <ul>             <li>「<strong>リードレプリカでも自動で切替</strong>」→ 誤り（自動ではない）。</li>             <li>「<strong>マルチAZ＝性能向上</strong>」→ 誤り（主眼は可用性。性能は保証しない）。</li>             <li>「<strong>スタンバイに直接接続できる</strong>」→ 誤り（通常は不可）。</li>           </ul>            <h2>設定方法の例（実務メモ）</h2>           <h3>コンソール</h3>           <ol>             <li>DBインスタンスの作成または変更で「マルチAZ配置」を有効化。</li>             <li>必要に応じてAZの組合せを選択。</li>           </ol>           <h3>CLI</h3>           <pre><code># 既存インスタンスをマルチAZ化（対応エンジンのみ） aws rds modify-db-instance \   --db-instance-identifier mydb \   --multi-az \   --apply-immediately  # 新規作成時に有効化（例） aws rds create-db-instance \   --db-instance-identifier mydb \   --engine postgres \   --multi-az \   --master-username admin \   --master-user-password &lt;PASSWORD&gt; \   --allocated-storage 100</code></pre>            <h2>運用の観点</h2>           <ul>             <li><strong>切替時間</strong>：通常数十秒〜数分。クライアントは再接続リトライを実装する。</li>             <li><strong>エンドポイント</strong>：名前は不変。向き先のみ切替（DNSキャッシュ対策にTTL考慮）。</li>             <li><strong>バックアップ</strong>：多くのエンジンでスタンバイ側から取得し、プライマリの負荷を低減。</li>             <li><strong>監視</strong>：RDSイベント、CloudWatchメトリクス、障害時アラートを設定。</li>           </ul>            <h2>まとめ</h2>           <p>RDSで<strong>プライマリ障害時の自動切替＝マルチAZ</strong>。高可用性・耐久性の確保が目的で、読み取り拡張はリードレプリカの領域です。</p>         </section>          <!-- 問い合わせ（固定） -->         <section class="contact-cta">   <a     id="contactLink"     class="contact-cta__link"     href="#"     target="_blank"     rel="noopener"   >     ✉ お問い合わせ   </a> </section>          <!-- GEN: REFERENCES（不要なら空） -->         <section>           <h2>参考</h2>           <ul>             <li><a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.MultiAZ.html" target="_blank" rel="noopener">Amazon RDS Multi-AZ の概要（公式ドキュメント）</a></li>             <li><a href="https://aws.amazon.com/jp/rds/features/multi-az/" target="_blank" rel="noopener">Amazon RDS Multi-AZ 機能紹介</a></li>             <li><a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_ReadRepl.html" target="_blank" rel="noopener">Amazon RDS リードレプリカ（公式ドキュメント）</a></li>           </ul>         </section>        </article>     </main>      <footer class="site-footer">       <p>&copy; <span id="year"></span> Learning Trajectory. All rights reserved.</p>     </footer>    </div>    <!-- 記事用JS（前後リンク・問い合わせURL） -->   <script src="../../../assets/post.js"></script>    <!-- 共通：年表示 -->   <script>     const y = document.getElementById("year");     if (y) y.textContent = new Date().getFullYear();   </script> </body> </html>