<!DOCTYPE html>
<html lang="ja">
<head>
  <!-- Google tag (fixed) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MQ9ZB4LYWP"></script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- GEN: META（生成時に置換） -->
  <title>Learning Trajectory | AWS GuardDutyの基本</title>
  <meta name="description" content="AWS環境を守る自動脅威検知サービス、GuardDutyの仕組みと特徴を解説。CloudTrailやVPCフローログを分析し、クリプトジャッキングなどの脅威を検知する方法を学びます。" />
  <meta name="robots" content="index,follow" />

  <!-- Optional: OGP（不要なら空でOK） -->
  <meta property="og:type" content="article" />
  <meta property="og:title" content="AWS GuardDutyの基本" />
  <meta property="og:description" content="AWS環境を守る自動脅威検知サービス、GuardDutyの仕組みと特徴を解説。CloudTrailやVPCフローログを分析し、クリプトジャッキングなどの脅威を検知する方法を学びます。" />
  

  <!-- Assets (article path: docs/<category>/posts/.../index.html) -->
  <link rel="stylesheet" href="../../../assets/styles.css" />

  <!-- 図解用追加CSS -->
  <style>
    /* 図解共通コンテナ */
    .diagram-container {
      background-color: #f9f9f9;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 2rem;
      margin: 2rem 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
    }

    /* 仕組み図 */
    .guardduty-flow {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      width: 100%;
      max-width: 600px;
      flex-wrap: wrap;
    }
    .log-stack {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .log-box {
      border: 1px solid #999;
      background: #fff;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      font-size: 0.85rem;
      text-align: center;
      min-width: 140px;
    }
    .gd-core {
      border: 2px solid #2a5caa;
      background: #e6f7ff;
      padding: 1.5rem;
      border-radius: 8px;
      text-align: center;
      font-weight: bold;
      color: #0050b3;
      position: relative;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .gd-icon {
      font-size: 2.5rem;
      display: block;
      margin-bottom: 0.5rem;
    }
    .finding-box {
      border: 2px solid #d9534f;
      background: #fff5f5;
      padding: 1rem;
      border-radius: 6px;
      color: #d9534f;
      font-weight: bold;
      text-align: center;
    }
    .arrow-right {
      font-size: 1.5rem;
      color: #999;
    }

    /* 比較テーブル */
    .compare-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      font-size: 0.95rem;
    }
    .compare-table th, .compare-table td {
      border: 1px solid #e0e0e0;
      padding: 0.8rem;
      text-align: left;
      vertical-align: top;
    }
    .compare-table th {
      background-color: #f4f4f4;
      font-weight: bold;
      white-space: nowrap;
      width: 25%;
    }
    .highlight-cell {
      background-color: #fff9e6;
      font-weight: bold;
    }

    /* 脅威カード */
    .threat-grid {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      width: 100%;
    }
    .threat-card {
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 1rem;
      flex: 1;
      min-width: 200px;
      background: #fff;
    }
    .threat-title {
      font-weight: bold;
      color: #d9534f;
      margin-bottom: 0.5rem;
      display: block;
      border-bottom: 1px dashed #ddd;
      padding-bottom: 0.3rem;
    }

    /* 運用フロー */
    .ops-flow {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: #fff;
      padding: 1rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 0.9rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    .step-badge {
      background: #333;
      color: #fff;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.75rem;
      margin-right: 0.3rem;
    }

    /* リスト調整 */
    .check-list {
        list-style: none;
        padding-left: 0;
    }
    .check-list li {
        margin-bottom: 0.8rem;
        padding-left: 1.5em;
        text-indent: -1.5em;
    }
    .check-list li::before {
        content: "✔";
        margin-right: 0.5em;
        color: #2a5caa;
    }
  </style>
</head>

<body>
  <div class="container">

    <header class="site-header">
      <a href="../../../index.html" class="site-title">Learning Trajectory</a>
    </header>

    <!-- 固定：前後ナビ（JS制御） -->
    <nav class="post-nav">
      <a id="prevPost" class="post-nav__link" href="#" style="display:none;">← 前の記事</a>
      <a id="nextPost" class="post-nav__link" href="#" style="display:none;">次の記事 →</a>
    </nav>

    <main>
      <article class="article-content">

        <header class="article-header">
          <!-- GEN: POST META -->
          <time class="post-meta" datetime="2026-02-02">
            2026.02.02
          </time>

          <!-- GEN: TITLE -->
          <h1 class="article-title">AWS GuardDutyの基本</h1>

          <!-- GEN: TAGS -->
          <ul class="tag-list">
            <li class="tag">AWS</li>
            <li class="tag">GuardDuty</li>
            <li class="tag">セキュリティ</li>
            <li class="tag">脅威検知</li>
            <li class="tag">クラウド</li>
          </ul>
        </header>

        <!-- GEN: BODY -->
        <p><strong>Amazon GuardDuty（ガードデューティ）は、AWS環境を守るための「24時間365日体制の自動警備ロボット（脅威検知サービス）」</strong>です。一言で言うと、<strong>「あなたのAWSアカウント内で『怪しい動き』がないかを、AIが勝手に監視し続け、見つけたらすぐに通報してくれるサービス」</strong>です。試験では、<strong>「機械学習」「ログの分析」「クリプトジャッキング（勝手なマイニング）の検知」</strong>といったキーワードが頻出です。</p>

<h2>1. GuardDuty の仕組み（何を見ているの？）</h2>
<p>GuardDutyは、監視カメラのように映像を見ているわけではありません。代わりに、AWS内で発生する<strong>「3種類のログ（操作履歴）」</strong>を裏側で監視しています。これらを有効にする必要はありません。GuardDutyをONにするだけで、自動的に分析を始めます。</p>

<div class="diagram-container">
  <div class="guardduty-flow">
    <div class="log-stack">
      <div class="log-box">📄 CloudTrailログ</div>
      <div class="log-box">📄 VPCフローログ</div>
      <div class="log-box">📄 DNSログ</div>
    </div>
    
    <div class="arrow-right">➡ 分析</div>
    
    <div class="gd-core">
      <span class="gd-icon">🤖</span>
      <strong>GuardDuty</strong><br>
      <small>機械学習 & 脅威インテリジェンス</small>
    </div>

    <div class="arrow-right">➡ 検知</div>

    <div class="finding-box">
      ⚠️ 脅威発見<br>
      <small>(Findings)</small>
    </div>
  </div>
</div>

<ul class="check-list">
<li><strong>CloudTrail ログ：</strong> 「誰がいつログインしたか」などの操作履歴。<br>例：普段東京からしかアクセスしないのに、突然「海外の知らない国」からログインがあった。</li>
<li><strong>VPC フローログ：</strong> ネットワークの通信記録。<br>例：サーバーが、「ブラックリスト（攻撃者）」のIPアドレスと通信している。</li>
<li><strong>DNS ログ：</strong> Webサイトへのアクセス要求履歴。<br>例：サーバーが、怪しいドメイン（ウイルス配布サイトなど）に接続しようとしている。</li>
</ul>

<h2>2. 何を見つけてくれるの？（検知タイプ）</h2>
<p>GuardDutyは、機械学習を使って「普段と違う動き」を見つけます。特に以下の3つの脅威検出が有名です。</p>

<div class="diagram-container">
  <div class="threat-grid">
    <div class="threat-card">
      <span class="threat-title">① アカウント侵害（乗っ取り）</span>
      <p>普段使わないリージョンでのインスタンス起動や、パスワードポリシーの無効化など、ハッカーがやりそうな設定変更を検知します。</p>
    </div>
    <div class="threat-card">
      <span class="threat-title">② インスタンス侵害（マルウェア）</span>
      <p>EC2インスタンスがボットネット（攻撃者の手下）の一部になっていたり、外部へDDoS攻撃を仕掛けている状態を検知します。</p>
    </div>
    <div class="threat-card">
      <span class="threat-title">③ クリプトジャッキング ★重要</span>
      <p><strong>「勝手に仮想通貨のマイニング（採掘）が行われている」</strong>状態です。攻撃者のために全力で計算処理をさせられ、高額な電気代（AWS利用料）を請求される被害を防ぎます。</p>
    </div>
  </div>
</div>

<h2>3. 他のセキュリティサービスとの違い（比較）</h2>
<p>よく似た「監視・検知系」サービスとの違いを整理しましょう。</p>

<table class="compare-table">
  <thead>
    <tr>
      <th>サービス</th>
      <th>役割</th>
      <th>見る場所</th>
      <th>たとえ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="highlight-cell">Amazon GuardDuty</td>
      <td><strong>脅威検知</strong></td>
      <td>ログ全般</td>
      <td><strong>警備員</strong> (怪しい奴がいないか巡回)</td>
    </tr>
    <tr>
      <td>Amazon Inspector</td>
      <td>脆弱性診断</td>
      <td>EC2の中身 (OS等)</td>
      <td>点検業者 (鍵が壊れてないかチェック)</td>
    </tr>
    <tr>
      <td>Amazon Macie</td>
      <td>個人情報保護</td>
      <td>S3の中身 (ファイル)</td>
      <td>機密文書係 (情報漏洩をチェック)</td>
    </tr>
    <tr>
      <td>AWS WAF</td>
      <td>攻撃防御</td>
      <td>Webの入口</td>
      <td>門番 (悪いリクエストを弾く)</td>
    </tr>
    <tr>
      <td>Security Hub</td>
      <td>一元管理</td>
      <td>上記すべての結果</td>
      <td>統合指令室 (全部の報告をまとめる)</td>
    </tr>
  </tbody>
</table>

<p><strong>ポイント：</strong> GuardDuty は「今まさに起きている攻撃」を見つけるのが得意です。Inspector は「攻撃される前の弱点」を見つけるのが得意です。</p>

<h2>4. 運用の流れ（検知したらどうする？）</h2>
<p>GuardDutyは「見つける」だけで、勝手にウイルスを消したりはしません。他のサービスと連携して対応します。</p>

<div class="diagram-container">
  <div class="ops-flow">
    <div><span class="step-badge">1</span> GuardDuty (検知)</div>
    <div class="arrow-right">➡</div>
    <div><span class="step-badge">2</span> EventBridge (通知)</div>
    <div class="arrow-right">➡</div>
    <div><span class="step-badge">3</span> SNS (メール送信) / Lambda (自動遮断)</div>
  </div>
</div>

<h2>5. まとめ</h2>
<ul class="check-list">
<li><strong>役割：</strong> ログを分析して、AWS環境への脅威（乗っ取り、ウイルス、不正操作）を検知する。</li>
<li><strong>機械学習：</strong> AIが「普段と違う動き」を自動で見抜く。</li>
<li><strong>手間なし：</strong> エージェント（ソフト）のインストール不要。ONにするだけで動く。</li>
<li><strong>キーワード：</strong> <strong>クリプトジャッキング（マイニング）</strong>検知といえばGuardDuty。</li>
</ul>
<p>これで、AWSのセキュリティ監視の要となるサービスもバッチリです。</p>


        <!-- 問い合わせ（固定・修正版） -->
        <p class="article-contact">
          <a id="contactLink" href="#" target="_blank">✉ お問い合わせ</a>
        </p>

        <!-- GEN: REFERENCES（不要なら空） -->
        

      </article>
    </main>

    <footer class="site-footer">
      <p>&copy; <span id="year"></span> Learning Trajectory. All rights reserved.</p>
    </footer>

  </div>

  <!-- 記事用JS（前後リンク・問い合わせURL） -->
  <script src="../../../assets/post.js"></script>

  <!-- 共通：年表示 -->
  <script>
    const y = document.getElementById("year");
    if (y) y.textContent = new Date().getFullYear();
  </script>
</body>
</html>
